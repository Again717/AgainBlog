# 📧 163邮箱配置说明

## ✅ 已配置邮箱：again830@163.com

### 步骤 1：获取163邮箱授权码

1. **登录163邮箱**
   - 访问：https://mail.163.com/
   - 使用账号 `again830@163.com` 登录

2. **开启SMTP服务**
   - 点击"设置" → "POP3/SMTP/IMAP"
   - 开启"POP3/SMTP服务"和"IMAP/SMTP服务"

3. **获取授权码**
   - 点击"生成授权码"
   - 按照提示发送短信验证
   - 复制生成的授权码（16位字符）

### 步骤 2：配置 .env 文件

在 `travel-blog-backend` 目录下创建或编辑 `.env` 文件：

```env
EMAIL_USER=again830@163.com
EMAIL_PASS=你的163邮箱授权码
PORT=3000
```

**重要：**
- `EMAIL_PASS` 必须是**授权码**，不是登录密码
- 授权码是16位字符
- 不要泄露授权码

### 步骤 3：重启服务器

配置完成后，重启后端服务器：

```bash
cd travel-blog-backend
npm run dev
```

### 步骤 4：验证配置

启动服务器后，应该看到：
```
邮件服务器配置成功，可以使用真实邮箱发送验证码
```

如果看到错误，检查：
1. `.env` 文件是否正确创建
2. 授权码是否正确（不是登录密码）
3. SMTP服务是否已开启

## 🔍 故障排除

### 问题1：授权码错误

**错误信息：** `Invalid login` 或 `535 Error`

**解决方法：**
- 确保使用的是授权码，不是登录密码
- 重新生成授权码
- 检查授权码是否复制完整（16位）

### 问题2：SMTP服务未开启

**错误信息：** `Connection timeout`

**解决方法：**
- 登录163邮箱
- 开启"POP3/SMTP服务"
- 重新生成授权码

### 问题3：邮件进入垃圾箱

**解决方法：**
- 检查发件人邮箱是否被标记
- 将发件邮箱添加到联系人
- 检查邮件过滤规则

## 📝 163邮箱SMTP配置

**服务器地址：** smtp.163.com  
**端口：** 465（SSL）或 25（非SSL）  
**安全连接：** SSL/TLS  
**认证方式：** 用户名 + 授权码

## ✅ 验证清单

- [ ] 已登录163邮箱
- [ ] 已开启SMTP服务
- [ ] 已获取授权码
- [ ] 已创建 `.env` 文件
- [ ] 已配置 `EMAIL_USER=again830@163.com`
- [ ] 已配置 `EMAIL_PASS=授权码`
- [ ] 已重启服务器
- [ ] 看到"邮件服务器配置成功"消息
- [ ] 可以收到验证码邮件

## 🎯 测试

1. **发送测试验证码**
   - 访问注册页面
   - 输入邮箱地址
   - 点击"发送验证码"
   - 检查邮箱收件箱（包括垃圾箱）

2. **验证邮件内容**
   - 邮件主题：旅行博客 - 邮箱验证码
   - 包含6位数字验证码
   - 验证码有效期5分钟

---

**配置完成后，验证码将发送到 again830@163.com 邮箱！** 📧














