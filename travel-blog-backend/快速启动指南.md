# 🚀 快速启动后端服务器

## ⚠️ 当前问题
`ERR_CONNECTION_REFUSED` - 后端服务器未运行

## ✅ 解决步骤

### 步骤 1：打开终端
在项目根目录 `travel-blog-backend` 文件夹中打开终端（PowerShell 或 CMD）

### 步骤 2：启动服务器

**方式 A：使用启动脚本（最简单）**
```
双击运行：启动服务器.bat
```

**方式 B：使用命令行**
```bash
cd travel-blog-backend
npm run dev
```

### 步骤 3：验证服务器运行

启动成功后，你应该看到：
```
========================================
MongoDB 连接成功
服务器运行在 http://localhost:3000
Travel Blog API 已启动
========================================
```

### 步骤 4：测试连接

在浏览器中访问：http://localhost:3000

应该看到：`{"message":"Travel Blog API is running!"}`

## 🔍 故障排除

### 问题1：端口被占用
**错误信息：** `EADDRINUSE` 或端口已被占用

**解决方法：**
1. 修改端口：创建 `.env` 文件，添加 `PORT=3001`
2. 或关闭占用端口的程序

### 问题2：MongoDB 连接失败
**错误信息：** `MongoDB 连接失败`

**解决方法：**
1. 检查 MongoDB 服务是否运行：
   ```powershell
   Get-Service MongoDB
   ```
2. 如果未运行，启动服务：
   ```powershell
   net start MongoDB
   ```
3. 或手动启动 MongoDB：
   ```bash
   mongod --dbpath "你的数据目录"
   ```

### 问题3：依赖未安装
**错误信息：** `Cannot find module`

**解决方法：**
```bash
cd travel-blog-backend
npm install
```

### 问题4：Node.js 未安装
**错误信息：** `'node' 不是内部或外部命令`

**解决方法：**
1. 下载安装 Node.js：https://nodejs.org/
2. 安装后重启终端

## 📝 重要提示

1. **保持终端窗口打开** - 服务器需要在终端中运行
2. **不要关闭终端** - 关闭终端会停止服务器
3. **开发模式** - 使用 `npm run dev` 会自动重启（需要 nodemon）
4. **生产模式** - 使用 `npm start` 不会自动重启

## 🎯 验证清单

- [ ] MongoDB 服务正在运行
- [ ] 已安装 Node.js 和 npm
- [ ] 已安装项目依赖（npm install）
- [ ] 服务器成功启动（看到启动消息）
- [ ] 可以访问 http://localhost:3000
- [ ] 前端可以正常调用 API

## 💡 提示

如果服务器启动后立即退出，请检查：
1. 查看终端中的错误信息
2. 检查 MongoDB 连接
3. 检查端口是否被占用
4. 检查依赖是否正确安装














